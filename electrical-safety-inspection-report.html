<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Electrical Safety Inspection Report | Amped Up Electrical Adelaide</title>
  <link rel="icon" type="image/png" href="5B7A145D-2F0E-475A-A662-B21DD54F930B.png" />
  
  <style>
    :root{
      --bg:#0b0b0e;
      --panel:#14141a;
      --text:#ffffff;
      --muted:#c9c9d6;
      --border:rgba(255,255,255,.10);
      --accent:#ffb000;
      --green:#00ff88;
      --red:#ff3333;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.6;
      padding:20px;
    }
    .wrap{max-width:800px;margin:0 auto}
    
    .header{
      text-align:center;
      margin-bottom:32px;
      padding-bottom:24px;
      border-bottom:2px solid var(--border);
    }
    .logo{height:48px;margin-bottom:16px}
    h1{font-size:28px;margin-bottom:8px;color:var(--accent)}
    .subtitle{color:var(--muted);font-size:15px}
    
    .customerInfo{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:16px;
      padding:24px;
      margin-bottom:32px;
    }
    .customerInfo h2{font-size:20px;margin-bottom:16px;color:var(--accent)}
    .formGrid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:16px;
    }
    .formField{
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .formField.full{grid-column:1/-1}
    label{font-size:14px;font-weight:600;color:var(--muted)}
    input,textarea{
      background:rgba(255,255,255,.05);
      border:1px solid var(--border);
      border-radius:12px;
      padding:12px 16px;
      color:var(--text);
      font-size:15px;
      font-family:inherit;
    }
    input:focus,textarea:focus{
      outline:none;
      border-color:var(--accent);
    }
    
    .section{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:16px;
      padding:24px;
      margin-bottom:24px;
    }
    .section h3{
      font-size:20px;
      margin-bottom:20px;
      color:var(--accent);
      display:flex;
      align-items:center;
      gap:12px;
    }
    
    .checkItem{
      border-bottom:1px solid var(--border);
      padding:16px 0;
    }
    .checkItem:last-child{border:none}
    
    .checkRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
    }
    .checkLabel{font-weight:500;font-size:15px}
    
    .toggleButtons{
      display:flex;
      gap:8px;
    }
    .toggleBtn{
      padding:8px 20px;
      border-radius:8px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.02);
      color:var(--muted);
      cursor:pointer;
      font-weight:600;
      font-size:14px;
      transition:all 0.2s;
    }
    .toggleBtn:hover{background:rgba(255,255,255,.05)}
    .toggleBtn.pass{border-color:var(--green);background:rgba(0,255,136,.1);color:var(--green)}
    .toggleBtn.fail{border-color:var(--red);background:rgba(255,51,51,.1);color:var(--red)}
    .toggleBtn.na{border-color:var(--muted);background:rgba(201,201,214,.1);color:var(--muted)}
    
    .notes{
      margin-top:8px;
    }
    .notes textarea{
      width:100%;
      min-height:60px;
      font-size:14px;
    }
    
    .photoUpload{
      margin-top:12px;
      display:none;
    }
    .photoUpload.show{display:block}
    .photoBtn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 16px;
      background:rgba(255,176,0,.12);
      border:1px solid rgba(255,176,0,.3);
      border-radius:10px;
      color:var(--accent);
      cursor:pointer;
      font-size:14px;
      font-weight:600;
    }
    
    .summary{
      background:linear-gradient(135deg,rgba(255,176,0,.16),rgba(255,122,0,.12));
      border:2px solid rgba(255,176,0,.35);
      border-radius:16px;
      padding:32px;
      margin-bottom:32px;
      text-align:center;
    }
    .summary h2{font-size:24px;margin-bottom:16px}
    .summaryGrid{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:16px;
      margin-top:24px;
    }
    .summaryCard{
      background:rgba(0,0,0,.3);
      border-radius:12px;
      padding:20px;
    }
    .summaryCard strong{
      display:block;
      font-size:36px;
      margin-bottom:8px;
    }
    .summaryCard.pass strong{color:var(--green)}
    .summaryCard.fail strong{color:var(--red)}
    .summaryCard.na strong{color:var(--muted)}
    .summaryCard span{font-size:14px;color:var(--muted)}
    
    .recommendations{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:16px;
      padding:24px;
      margin-bottom:32px;
    }
    .recommendations h3{font-size:20px;margin-bottom:16px;color:var(--red)}
    .recommendations ul{
      list-style:none;
      margin:16px 0;
    }
    .recommendations li{
      padding:12px;
      background:rgba(255,51,51,.05);
      border:1px solid rgba(255,51,51,.2);
      border-radius:10px;
      margin-bottom:8px;
      color:var(--muted);
    }
    .recommendations li strong{color:var(--red)}
    
    .actions{
      display:flex;
      gap:16px;
      margin-top:32px;
    }
    .btn{
      flex:1;
      padding:18px 32px;
      border-radius:12px;
      border:none;
      font-weight:bold;
      font-size:16px;
      cursor:pointer;
      transition:all 0.2s;
    }
    .btn.primary{
      background:linear-gradient(135deg,var(--accent),#ff7a00);
      color:#111;
    }
    .btn.secondary{
      background:rgba(255,255,255,.05);
      border:1px solid var(--border);
      color:var(--text);
    }
    .btn:hover{transform:translateY(-2px)}
    
    @media (max-width: 768px){
      .formGrid{grid-template-columns:1fr}
      .summaryGrid{grid-template-columns:1fr}
      .actions{flex-direction:column}
    }
    
    /* PDF-friendly styles */
    .pdf-mode{
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
      color-adjust: exact !important;
    }
    .pdf-mode body{
      background:#fff !important;
      color:#000 !important;
    }
    .pdf-mode .wrap{
      background:#fff !important;
    }
    .pdf-mode .header{
      border-bottom:2px solid #333 !important;
    }
    .pdf-mode h1,.pdf-mode h2,.pdf-mode h3{
      color:#ffb000 !important;
    }
    .pdf-mode .subtitle,.pdf-mode label,.pdf-mode .muted{
      color:#666 !important;
    }
    .pdf-mode .customerInfo,.pdf-mode .section,.pdf-mode .recommendations{
      background:#f5f5f5 !important;
      border:1px solid #ddd !important;
      color:#000 !important;
    }
    .pdf-mode input,.pdf-mode textarea{
      background:#fff !important;
      border:1px solid #ccc !important;
      color:#000 !important;
    }
    .pdf-mode .summary{
      background:#fff4e6 !important;
      border:2px solid #ffb000 !important;
      color:#000 !important;
    }
    .pdf-mode .summaryCard{
      background:#f0f0f0 !important;
      color:#000 !important;
    }
    .pdf-mode .toggleBtn.pass{
      border-color:#00cc66 !important;
      background:#e6ffe6 !important;
      color:#00cc66 !important;
    }
    .pdf-mode .toggleBtn.fail{
      border-color:#ff3333 !important;
      background:#ffe6e6 !important;
      color:#ff3333 !important;
    }
    .pdf-mode .toggleBtn.na{
      border-color:#999 !important;
      background:#f0f0f0 !important;
      color:#666 !important;
    }
    .pdf-mode .recommendations{
      background:#fff5f5 !important;
    }
    .pdf-mode .recommendations h3{
      color:#ff3333 !important;
    }
    .pdf-mode .recommendations li{
      background:#ffe6e6 !important;
      border:1px solid #ffcccc !important;
      color:#000 !important;
    }
    .pdf-mode .recommendations li strong{
      color:#ff3333 !important;
    }
    .pdf-mode .btn,.pdf-mode .photoBtn,.pdf-mode .actions{
      display:none !important;
    }
    
    @media print{
      body{background:#fff;color:#000}
      .btn,.photoBtn{display:none}
      .toggleButtons{pointer-events:none}
    }
      /* ========== QUOTE POPUP ========== */
    .quotePopup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      z-index: 10000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      backdrop-filter: blur(8px);
    }
    .quotePopup.show {
      display: flex;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .quotePopupInner {
      background: var(--bg);
      border-radius: var(--radius);
      padding: 40px;
      max-width: 520px;
      width: 100%;
      position: relative;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      animation: slideUp 0.4s ease;
    }
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .quotePopupClose {
      position: absolute;
      top: 16px;
      right: 16px;
      background: rgba(255, 176, 0, 0.1);
      border: 1px solid var(--border);
      color: var(--text);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .quotePopupClose:hover {
      background: var(--accent);
      color: #000;
      transform: rotate(90deg);
    }
    .quotePopupInner h3 {
      font-size: 28px;
      margin-bottom: 12px;
      color: var(--accent);
      font-weight: 800;
    }
    .quotePopupInner p {
      color: var(--muted);
      margin-bottom: 24px;
      font-size: 15px;
    }
    .quoteForm {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .quoteForm input,
    .quoteForm textarea,
    .quoteForm select {
      padding: 14px 18px;
      background: rgba(255, 176, 0, 0.05);
      border: 1px solid var(--border);
      border-radius: 12px;
      color: var(--text);
      font-size: 15px;
      font-family: inherit;
      transition: all 0.2s;
    }
    .quoteForm input:focus,
    .quoteForm textarea:focus,
    .quoteForm select:focus {
      outline: none;
      border-color: var(--accent);
      background: rgba(255, 176, 0, 0.08);
    }
    .quoteForm textarea {
      min-height: 100px;
      resize: vertical;
    }
    .quoteForm button {
      padding: 16px 32px;
      background: linear-gradient(135deg, var(--accent2), var(--accent));
      color: #000;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 8px;
    }
    .quoteForm button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 176, 0, 0.4);
    }
    .quoteSuccessMessage {
      display: none;
      text-align: center;
      padding: 20px;
    }
    .quoteSuccessMessage.show {
      display: block;
    }
    .quoteSuccessMessage h4 {
      color: #00cc70;
      font-size: 24px;
      margin-bottom: 12px;
    }
    .quoteSuccessMessage p {
      color: var(--muted);
      font-size: 16px;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
  <div class="wrap">
    <div class="header">
      <img class="logo" src="5B7A145D-2F0E-475A-A662-B21DD54F930B.png" alt="Amped Up Electrical Adelaide" />
      <h1>Electrical Safety Inspection Report</h1>
      <p class="subtitle">Licensed Electrician PGE 305056 | AS/NZS 3000:2018 Compliant</p>
    </div>

    <div class="customerInfo">
      <h2>üìã Property & Contact Details</h2>
      <div class="formGrid">
        <div class="formField">
          <label>Customer Name</label>
          <input type="text" id="customerName" placeholder="Enter customer name" />
        </div>
        <div class="formField">
          <label>Customer Email</label>
          <input type="email" id="customerEmail" placeholder="email@example.com" />
        </div>
        <div class="formField">
          <label>Property Address</label>
          <input type="text" id="propertyAddress" placeholder="Street address" />
        </div>
        <div class="formField">
          <label>Inspection Date</label>
          <input type="date" id="inspectionDate" />
        </div>
        <div class="formField full">
          <label>Additional Notes</label>
          <textarea id="generalNotes" placeholder="General observations about the property..."></textarea>
        </div>
      </div>
    </div>

    <div class="summary" id="summary">
      <h2>Inspection Summary</h2>
      <div class="summaryGrid">
        <div class="summaryCard pass">
          <strong id="passCount">0</strong>
          <span>Pass</span>
        </div>
        <div class="summaryCard fail">
          <strong id="failCount">0</strong>
          <span>Fail</span>
        </div>
        <div class="summaryCard na">
          <strong id="naCount">0</strong>
          <span>N/A</span>
        </div>
      </div>
    </div>

    <!-- SWITCHBOARD -->
    <div class="section">
      <h3>‚ö° Switchboard & Main Panel</h3>
      
      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Switchboard condition (no damage, corrosion, or overheating)<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 2.5.2 - Electrical equipment enclosures</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">RCD/Safety switches present and operational<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 2.6.2.2 - RCD protection requirements</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Circuit breakers correctly rated and labelled<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 2.5.4 - Identification and labelling</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">No rewirable fuses (ceramic/wire fuses)<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 2.5.6 - Overcurrent protection devices</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>
    </div>

    <!-- POWER POINTS -->
    <div class="section">
      <h3>üîå Power Points & Sockets</h3>
      
      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">All power points secure and undamaged<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 4.6.2 - Socket-outlets installation</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">No overloaded circuits (double adaptors/powerboards)<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 2.5.1 - Circuit rating and protection</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Bathroom/outdoor sockets are weatherproof rated<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 6.3.3 - Socket-outlets in wet areas</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>
    </div>

    <!-- LIGHTING -->
    <div class="section">
      <h3>üí° Lighting & Switches</h3>
      
      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">All light switches functional and secure<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 4.5.1 - Switch installation</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Light fittings properly installed (no exposed wiring)<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 4.8 - Luminaires and lighting installations</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Downlights have adequate clearance/insulation<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 4.8.4 - Recessed luminaires</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>
    </div>

    <!-- SAFETY DEVICES -->
    <div class="section">
      <h3>üî• Safety Devices</h3>
      
      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Smoke alarms installed (all bedrooms, hallways, living areas)<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 1.5.6 - Smoke alarms (refer SA legislation)</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Smoke alarms functional (tested)<br><small style="color:var(--muted);font-size:13px">AS 3786:2014 - Smoke alarms operational testing</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Smoke alarms less than 10 years old<br><small style="color:var(--muted);font-size:13px">AS 3786:2014 - Smoke alarm replacement requirements</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>
    </div>

    <!-- OUTDOOR -->
    <div class="section">
      <h3>üè° Outdoor Electrical</h3>
      
      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Outdoor lights secure and weatherproof<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 6.3.2 - Outdoor electrical installations</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">Meter box accessible and undamaged<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 2.2 - Service equipment accessibility</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>

      <div class="checkItem">
        <div class="checkRow">
          <span class="checkLabel">No exposed wiring or damaged cables visible<br><small style="color:var(--muted);font-size:13px">AS/NZS 3000:2018 Clause 3.5 - Wiring systems and cable protection</small></span>
          <div class="toggleButtons">
            <button class="toggleBtn" onclick="toggleStatus(this, 'pass')">Pass</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'fail')">Fail</button>
            <button class="toggleBtn" onclick="toggleStatus(this, 'na')">N/A</button>
          </div>
        </div>
        <div class="notes">
          <textarea placeholder="Notes..."></textarea>
        </div>
        <div class="photoUpload">
          <label class="photoBtn">üì∑ Add Photo <input type="file" accept="image/*" style="display:none" /></label>
        </div>
      </div>
    </div>

    <div class="recommendations" id="recommendations" style="display:none">
      <h3>‚ö†Ô∏è Issues Requiring Attention</h3>
      <ul id="issuesList"></ul>
    </div>

    <div class="section" style="border:1px solid var(--border);padding:32px;border-radius:12px;background:var(--panel)">
      <h3>Why Choose Marcus?</h3>
      <div style="display:flex;gap:32px;align-items:center;margin-top:24px;flex-wrap:wrap">
        <img src="marcus-headshot.jpg" alt="Marcus Derbali - Amped Up Electrical" style="width:180px;height:180px;border-radius:50%;object-fit:cover;border:3px solid var(--accent)">
        <div style="flex:1;min-width:300px">
          <h4 style="font-size:20px;margin-bottom:12px;color:var(--accent)">Owner-Operated by Marcus</h4>
          <p style="color:var(--muted);margin-bottom:16px;line-height:1.6">
            I personally handle every electrical safety inspection from start to finish. No subcontractors, no apprentices unsupervised. Thorough checks, detailed reports, honest recommendations.
          </p>
          <p style="color:var(--muted)">
            <strong>Licensed Electrician PGE 305056</strong> | 20 x 5-Star Google Reviews | Owner-operated since day one
          </p>
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn secondary" onclick="window.print()">üñ®Ô∏è Print Report</button>
      <button class="btn secondary" onclick="downloadPDF()">üìÑ Download PDF</button>
      <button class="btn primary" onclick="emailReport()">üìß Generate PDF & Email</button>
    </div>

  </div>

  <script>
    // Set today's date
    document.getElementById('inspectionDate').valueAsDate = new Date();

    // Toggle item status
    function toggleStatus(btn, status) {
      const buttons = btn.parentElement.querySelectorAll('.toggleBtn');
      buttons.forEach(b => {
        b.classList.remove('pass', 'fail', 'na');
      });
      btn.classList.add(status);
      
      const photoUpload = btn.closest('.checkItem').querySelector('.photoUpload');
      if (status === 'fail') {
        photoUpload.classList.add('show');
      } else {
        photoUpload.classList.remove('show');
      }
      
      updateSummary();
    }

    // Update summary counts
    function updateSummary() {
      const passCount = document.querySelectorAll('.toggleBtn.pass').length;
      const failCount = document.querySelectorAll('.toggleBtn.fail').length;
      const naCount = document.querySelectorAll('.toggleBtn.na').length;
      
      document.getElementById('passCount').textContent = passCount;
      document.getElementById('failCount').textContent = failCount;
      document.getElementById('naCount').textContent = naCount;
      
      // Show recommendations if there are failures
      if (failCount > 0) {
        updateRecommendations();
        document.getElementById('recommendations').style.display = 'block';
      } else {
        document.getElementById('recommendations').style.display = 'none';
      }
    }

    // Update recommendations list
    function updateRecommendations() {
      const issuesList = document.getElementById('issuesList');
      issuesList.innerHTML = '';
      
      const failedItems = document.querySelectorAll('.toggleBtn.fail');
      failedItems.forEach(btn => {
        const label = btn.closest('.checkRow').querySelector('.checkLabel').textContent;
        const notes = btn.closest('.checkItem').querySelector('textarea').value;
        
        const li = document.createElement('li');
        li.innerHTML = `<strong>${label}</strong>${notes ? '<br>' + notes : ''}`;
        issuesList.appendChild(li);
      });
    }

    // Download PDF function
    function downloadPDF() {
      const customerName = document.getElementById('customerName').value;
      const propertyAddress = document.getElementById('propertyAddress').value;
      
      if (!customerName || !propertyAddress) {
        alert('Please fill in customer name and property address before generating PDF');
        return;
      }
      
      const filename = `Electrical-Safety-Inspection-${propertyAddress.replace(/[^a-z0-9]/gi, '-')}-${new Date().toISOString().split('T')[0]}.pdf`;
      
      // Enable PDF mode styling
      document.documentElement.classList.add('pdf-mode');
      
      const opt = {
        margin: 10,
        filename: filename,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { 
          scale: 2, 
          useCORS: true, 
          letterRendering: true,
          backgroundColor: '#ffffff'
        },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      };
      
      html2pdf().set(opt).from(document.querySelector('.wrap')).save().then(() => {
        document.documentElement.classList.remove('pdf-mode');
      });
    }

    // Email report function (generates PDF then opens email)
    function emailReport() {
      const customerName = document.getElementById('customerName').value;
      const customerEmail = document.getElementById('customerEmail').value;
      const propertyAddress = document.getElementById('propertyAddress').value;
      
      if (!customerName || !customerEmail || !propertyAddress) {
        alert('Please fill in customer details before sending report');
        return;
      }
      
      const passCount = document.getElementById('passCount').textContent;
      const failCount = document.getElementById('failCount').textContent;
      
      // Collect failed items
      const issues = [];
      document.querySelectorAll('.toggleBtn.fail').forEach(btn => {
        const label = btn.closest('.checkRow').querySelector('.checkLabel').textContent.split('\n')[0]; // Get only the main label
        const notes = btn.closest('.checkItem').querySelector('textarea').value;
        issues.push(label + (notes ? ' - ' + notes : ''));
      });
      
      const subject = `Electrical Safety Inspection Report - ${propertyAddress}`;
      const body = `Hi ${customerName},

Please find attached your electrical safety inspection report for ${propertyAddress}.

INSPECTION SUMMARY:
‚úÖ Pass: ${passCount}
‚ùå Fail: ${failCount}

${issues.length > 0 ? 'ISSUES REQUIRING ATTENTION:\n' + issues.map((i, idx) => `${idx + 1}. ${i}`).join('\n') : 'No issues found - property passed all safety checks.'}

${issues.length > 0 ? '\nI can provide a quote to fix these issues. Call me on 0410 414 969 or reply to this email.\n' : ''}
Professional service, transparent pricing, quality workmanship guaranteed.

Marcus Derbali
Amped Up Electrical Adelaide
Licensed Electrician PGE 305056
üìû 0410 414 969
üåê ampedupelectricaladelaide.com.au`;
      
      const filename = `Electrical-Safety-Inspection-${propertyAddress.replace(/[^a-z0-9]/gi, '-')}-${new Date().toISOString().split('T')[0]}.pdf`;
      
      // Open email first (must happen directly from user action to avoid blocking)
      const mailtoLink = `mailto:${customerEmail}?subject=${encodeURIComponent(subject)}&bcc=ampedupelectricaladl@gmail.com&body=${encodeURIComponent(body)}`;
      window.open(mailtoLink, '_blank');
      
      alert(`Generating PDF: ${filename}\n\nThe PDF will download shortly. Attach it to the email that just opened.`);
      
      // Enable PDF mode styling
      document.documentElement.classList.add('pdf-mode');
      
      const opt = {
        margin: 10,
        filename: filename,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { 
          scale: 2, 
          useCORS: true, 
          letterRendering: true,
          backgroundColor: '#ffffff'
        },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      };
      
      html2pdf().set(opt).from(document.querySelector('.wrap')).save().then(() => {
        document.documentElement.classList.remove('pdf-mode');
      });
    }
  </script>

  <!-- Quote Request Popup -->
  <div class="quotePopup" id="quotePopup">
    <div class="quotePopupInner">
      <button class="quotePopupClose" onclick="closeQuotePopup()" aria-label="Close">√ó</button>
      
      <div id="quoteFormContainer">
        <h3>Get Your Free Quote</h3>
        <p>Response within 2 hours ‚Ä¢ No obligation</p>
        
        <form class="quoteForm" id="quoteForm" onsubmit="submitQuoteForm(event)">
          <input type="text" name="name" placeholder="Your Name *" required />
          <input type="tel" name="phone" placeholder="Phone Number *" required pattern="[0-9\s\+\-\(\)]+" />
          <input type="email" name="email" placeholder="Email Address *" required />
          <select name="suburb" required>
            <option value="">Select Suburb *</option>
            <option value="Prospect">Prospect</option>
            <option value="Norwood">Norwood</option>
            <option value="Unley">Unley</option>
            <option value="St Peters">St Peters</option>
            <option value="Burnside">Burnside</option>
            <option value="Vale Park">Vale Park</option>
            <option value="Glenelg">Glenelg</option>
            <option value="North Adelaide">North Adelaide</option>
            <option value="Adelaide CBD">Adelaide CBD</option>
            <option value="Other">Other Adelaide Suburb</option>
          </select>
          <textarea name="description" placeholder="Brief description of work needed *" required></textarea>
          <select name="contact_time">
            <option value="">Preferred Contact Time (Optional)</option>
            <option value="Morning (7am-12pm)">Morning (7am-12pm)</option>
            <option value="Afternoon (12pm-5pm)">Afternoon (12pm-5pm)</option>
            <option value="Evening (5pm-7pm)">Evening (5pm-7pm)</option>
            <option value="Anytime">Anytime</option>
          </select>
          <button type="submit">Send Quote Request</button>
        </form>
      </div>
      
      <div class="quoteSuccessMessage" id="quoteSuccessMessage">
        <h4>‚úÖ Request Received!</h4>
        <p>Thanks! I'll call you within 2 hours (usually much faster).</p>
        <p style="margin-top:16px;"><strong>‚Äî Marcus, Amped Up Electrical</strong></p>
      </div>
    </div>
  </div>

  <script>
    // Quote popup logic
    let popupShown = false;

    function showQuotePopup() {
      if (popupShown) return;
      document.getElementById('quotePopup').classList.add('show');
      popupShown = true;
      document.body.style.overflow = 'hidden';
    }

    function closeQuotePopup() {
      document.getElementById('quotePopup').classList.remove('show');
      document.body.style.overflow = 'auto';
    }

    function openQuotePopup() {
      showQuotePopup();
    }

    document.getElementById('quotePopup').addEventListener('click', (e) => {
      if (e.target.id === 'quotePopup') closeQuotePopup();
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeQuotePopup();
    });

    async function submitQuoteForm(e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);
      const data = Object.fromEntries(formData);
      
      document.getElementById('quoteFormContainer').style.display = 'none';
      document.getElementById('quoteSuccessMessage').classList.add('show');
      
      console.log('Quote request:', data);
      
      setTimeout(() => {
        closeQuotePopup();
        setTimeout(() => {
          document.getElementById('quoteFormContainer').style.display = 'block';
          document.getElementById('quoteSuccessMessage').classList.remove('show');
          form.reset();
        }, 500);
      }, 4000);
    }
  </script>
</body>
</html>
